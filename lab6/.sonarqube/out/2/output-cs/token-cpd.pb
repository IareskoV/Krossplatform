‰P
AE:\Labs\CrossPlatform\Lab6\Lab6\Controllers\DatabaseController.cs
	namespace 	
Lab6
 
. 
Controllers 
{ 
public 

class 
DatabaseController #
:$ %

Controller& 0
{ 
private 
readonly 
IHttpClientFactory +
_httpClientFactory, >
;> ?
private 

HttpClient 
client !
;! "
public 
DatabaseController !
(! "
IHttpClientFactory" 4
httpClientFactory5 F
)F G
{ 	
_httpClientFactory 
=  
httpClientFactory! 2
;2 3
} 	
public 
override 
void 
OnActionExecuting .
(. /"
ActionExecutingContext/ E
contextF M
)M N
{ 	
var 
	jsonToken 
= 
HttpContext '
.' (
GetTokenAsync( 5
(5 6
$str6 D
)D E
.E F

GetAwaiterF P
(P Q
)Q R
.R S
	GetResultS \
(\ ]
)] ^
;^ _
var 
client 
= 
_httpClientFactory +
.+ ,
CreateClient, 8
(8 9
)9 :
;: ;
client 
. 
SetBearerToken !
(! "
	jsonToken" +
)+ ,
;, -
this 
. 
client 
= 
client  
;  !
} 	
public 
async 
Task 
< 

ViewResult $
>$ %
Assets& ,
(, -
)- .
{ 	
var   
databaseHandler   
=    !
new  " %
DatabaseHandler  & 5
<  5 6
Asset  6 ;
>  ; <
(  < =
client  = C
,  C D
Tables  E K
.  K L
Assets  L R
)  R S
;  S T
ViewBag!! 
.!! 
Assets!! 
=!! 
await!! "
databaseHandler!!# 2
.!!2 3
GetList!!3 :
(!!: ;
)!!; <
;!!< =
return"" 
View"" 
("" 
)"" 
;"" 
}## 	
[$$ 	
HttpGet$$	 
]$$ 
public%% 
async%% 
Task%% 
<%% 

ViewResult%% $
>%%$ %!
AssetsLifeCycleEvents%%& ;
(%%; <
)%%< =
{&& 	
var'' 
databaseHandler'' 
=''  !
new''" %
DatabaseHandler''& 5
<''5 6$
Assets_Life_Cycle_Events''6 N
>''N O
(''O P
client''P V
,''V W
Tables''X ^
.''^ _!
AssetsLifeCycleEvents''_ t
)''t u
;''u v
ViewBag(( 
.(( 
Assets(( 
=(( 
await(( "
databaseHandler((# 2
.((2 3
GetList((3 :
(((: ;
)((; <
;((< =
return)) 
View)) 
()) 
))) 
;)) 
}** 	
[,, 	
HttpGet,,	 
],, 
public-- 
async-- 
Task-- 
<-- 

ViewResult-- $
>--$ %
	Locations--& /
(--/ 0
)--0 1
{.. 	
var// 
databaseHandler// 
=//  !
new//" %
DatabaseHandler//& 5
<//5 6
Location//6 >
>//> ?
(//? @
client//@ F
,//F G
Tables//H N
.//N O
	Locations//O X
)//X Y
;//Y Z
ViewBag00 
.00 
Entities00 
=00 
await00 $
databaseHandler00% 4
.004 5
GetList005 <
(00< =
)00= >
;00> ?
return11 
View11 
(11 
)11 
;11 
}22 	
[44 	
HttpPost44	 
]44 
public55 
async55 
Task55 
<55 
ActionResult55 &
>55& '
UpdateLocation55( 6
(556 7
Location557 ?
location55@ H
)55H I
{66 	
var77 
databaseHandler77 
=77  !
new77" %
DatabaseHandler77& 5
<775 6
Location776 >
>77> ?
(77? @
client77@ F
,77F G
Tables77H N
.77N O
	Locations77O X
)77X Y
;77Y Z
await88 
databaseHandler88 !
.88! "
Update88" (
(88( )
location88) 1
)881 2
;882 3
return99 
RedirectToAction99 #
(99# $
$str99$ /
)99/ 0
;990 1
}:: 	
[<< 	
HttpPost<<	 
]<< 
public== 
async== 
Task== 
<== 
ActionResult== &
>==& '
CreateLocation==( 6
(==6 7
Location==7 ?
location==@ H
)==H I
{>> 	
var?? 
databaseHandler?? 
=??  !
new??" %
DatabaseHandler??& 5
<??5 6
Location??6 >
>??> ?
(??? @
client??@ F
,??F G
Tables??H N
.??N O
	Locations??O X
)??X Y
;??Y Z
await@@ 
databaseHandler@@ !
.@@! "
Create@@" (
(@@( )
location@@) 1
)@@1 2
;@@2 3
returnAA 
RedirectToActionAA #
(AA# $
$strAA$ /
)AA/ 0
;AA0 1
}BB 	
[CC 	
HttpPostCC	 
]CC 
publicDD 
asyncDD 
TaskDD 
<DD 
ActionResultDD &
>DD& '
DeleteLocationDD( 6
(DD6 7
LocationDD7 ?
locationDD@ H
)DDH I
{EE 	
varFF 
databaseHandlerFF 
=FF  !
newFF" %
DatabaseHandlerFF& 5
<FF5 6
LocationFF6 >
>FF> ?
(FF? @
clientFF@ F
,FFF G
TablesFFH N
.FFN O
	LocationsFFO X
)FFX Y
;FFY Z
awaitGG 
databaseHandlerGG !
.GG! "
DeleteGG" (
(GG( )
locationGG) 1
.GG1 2
Location_IDGG2 =
)GG= >
;GG> ?
returnHH 
RedirectToActionHH #
(HH# $
$strHH$ /
)HH/ 0
;HH0 1
}II 	
[JJ 	
HttpGetJJ	 
]JJ 
publicKK 
asyncKK 
TaskKK 
<KK 

ViewResultKK $
>KK$ %
RefStatusesKK& 1
(KK1 2
)KK2 3
{LL 	
varMM 
databaseHandlerMM 
=MM  !
newMM" %
DatabaseHandlerMM& 5
<MM5 6

Ref_StatusMM6 @
>MM@ A
(MMA B
clientMMB H
,MMH I
TablesMMJ P
.MMP Q
RefStatusesMMQ \
)MM\ ]
;MM] ^
ViewBagNN 
.NN 
EntitiesNN 
=NN 
awaitNN $
databaseHandlerNN% 4
.NN4 5
GetListNN5 <
(NN< =
)NN= >
;NN> ?
returnOO 
ViewOO 
(OO 
)OO 
;OO 
}PP 	
[RR 	
HttpPostRR	 
]RR 
publicSS 
asyncSS 
TaskSS 
<SS 
ActionResultSS &
>SS& '
CreateRefStatusSS( 7
(SS7 8

Ref_StatusSS8 B
locationSSC K
)SSK L
{TT 	
varUU 
databaseHandlerUU 
=UU  !
newUU" %
DatabaseHandlerUU& 5
<UU5 6

Ref_StatusUU6 @
>UU@ A
(UUA B
clientUUB H
,UUH I
TablesUUJ P
.UUP Q
RefStatusesUUQ \
)UU\ ]
;UU] ^
awaitVV 
databaseHandlerVV !
.VV! "
CreateVV" (
(VV( )
locationVV) 1
)VV1 2
;VV2 3
returnWW 
RedirectToActionWW #
(WW# $
$strWW$ 1
)WW1 2
;WW2 3
}XX 	
[ZZ 	
HttpPostZZ	 
]ZZ 
public[[ 
async[[ 
Task[[ 
<[[ 
ActionResult[[ &
>[[& '
UpdateRefStatus[[( 7
([[7 8

Ref_Status[[8 B
location[[C K
)[[K L
{\\ 	
var]] 
databaseHandler]] 
=]]  !
new]]" %
DatabaseHandler]]& 5
<]]5 6

Ref_Status]]6 @
>]]@ A
(]]A B
client]]B H
,]]H I
Tables]]J P
.]]P Q
RefStatuses]]Q \
)]]\ ]
;]]] ^
await^^ 
databaseHandler^^ !
.^^! "
Update^^" (
(^^( )
location^^) 1
)^^1 2
;^^2 3
return__ 
RedirectToAction__ #
(__# $
$str__$ 1
)__1 2
;__2 3
}`` 	
[aa 	
HttpPostaa	 
]aa 
publicbb 
asyncbb 
Taskbb 
<bb 
ActionResultbb &
>bb& '
DeleteRefStatusbb( 7
(bb7 8

Ref_Statusbb8 B
locationbbC K
)bbK L
{cc 	
vardd 
databaseHandlerdd 
=dd  !
newdd" %
DatabaseHandlerdd& 5
<dd5 6

Ref_Statusdd6 @
>dd@ A
(ddA B
clientddB H
,ddH I
TablesddJ P
.ddP Q
RefStatusesddQ \
)dd\ ]
;dd] ^
awaitee 
databaseHandleree !
.ee! "
Deleteee" (
(ee( )
locationee) 1
.ee1 2
Status_Codeee2 =
)ee= >
;ee> ?
returnff 
RedirectToActionff #
(ff# $
$strff$ 1
)ff1 2
;ff2 3
}gg 	
}hh 
}ii Â?
=E:\Labs\CrossPlatform\Lab6\Lab6\Controllers\HomeController.cs
	namespace 	
Lab6
 
. 
Controllers 
{ 
public 

class 
HomeController 
:  !

Controller" ,
{ 
private 
readonly 
ILogger  
<  !
HomeController! /
>/ 0
_logger1 8
;8 9
private 
readonly 
IHttpClientFactory +
_httpClientFactory, >
;> ?
public 
HomeController 
( 
ILogger %
<% &
HomeController& 4
>4 5
logger6 <
,< =
IHttpClientFactory> P
httpClientFactoryQ b
)b c
{ 	
_logger 
= 
logger 
; 
_httpClientFactory 
=  
httpClientFactory! 2
;2 3
} 	
[ 	
	Authorize	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
var 
	jsonToken 
= 
await !
HttpContext" -
.- .
GetTokenAsync. ;
(; <
$str< J
)J K
;K L
var!! 
client!! 
=!! 
_httpClientFactory!! +
.!!+ ,
CreateClient!!, 8
(!!8 9
)!!9 :
;!!: ;
client## 
.## 
SetBearerToken## !
(##! "
	jsonToken##" +
)##+ ,
;##, -
ViewBag%% 
.%% 
Test%% 
=%% 
await%%  
client%%! '
.%%' (
GetStringAsync%%( 6
(%%6 7
$str%%7 _
)%%_ `
;%%` a
return&& 
View&& 
(&& 
)&& 
;&& 
}'' 	
[)) 	
	Authorize))	 
])) 
public** 
IActionResult** 
Lab**  
(**  !
int**! $
number**% +
)**+ ,
{++ 	
ViewData,, 
[,, 
$str,, 
],, 
=,, 
number,, $
;,,$ %
ILab-- 
lab-- 
;-- 
switch.. 
(.. 
number.. 
).. 
{// 
case00 
$num00 
:00 
lab11 
=11 
new11 
Lab111 "
(11" #
)11# $
;11$ %
break22 
;22 
case33 
$num33 
:33 
lab44 
=44 
new44 
Lab244 "
(44" #
)44# $
;44$ %
break55 
;55 
case66 
$num66 
:66 
lab77 
=77 
new77 
Lab377 "
(77" #
)77# $
;77$ %
break88 
;88 
default99 
:99 
return:: 
Error::  
(::  !
)::! "
;::" #
};; 
ViewData<< 
[<< 
$str<< "
]<<" #
=<<$ %
lab<<& )
.<<) *
Description<<* 5
;<<5 6
return== 
View== 
(== 
)== 
;== 
}>> 	
[@@ 	
HttpPost@@	 
]@@ 
[AA 	
	AuthorizeAA	 
]AA 
publicBB 
IActionResultBB 
LabBB  
(BB  !
intBB! $
numberBB% +
,BB+ ,
stringBB- 3
inputBB4 9
)BB9 :
{CC 	
ViewDataDD 
[DD 
$strDD 
]DD 
=DD 
numberDD $
;DD$ %
ILabEE 
labEE 
;EE 
switchFF 
(FF 
numberFF 
)FF 
{GG 
caseHH 
$numHH 
:HH 
labII 
=II 
newII 
Lab1II "
(II" #
)II# $
;II$ %
breakJJ 
;JJ 
caseKK 
$numKK 
:KK 
labLL 
=LL 
newLL 
Lab2LL "
(LL" #
)LL# $
;LL$ %
breakMM 
;MM 
caseNN 
$numNN 
:NN 
labOO 
=OO 
newOO 
Lab3OO "
(OO" #
)OO# $
;OO$ %
breakPP 
;PP 
defaultQQ 
:QQ 
returnRR 
ErrorRR  
(RR  !
)RR! "
;RR" #
}SS 
ViewDataTT 
[TT 
$strTT "
]TT" #
=TT$ %
labTT& )
.TT) *
DescriptionTT* 5
;TT5 6
ViewDataUU 
[UU 
$strUU 
]UU 
=UU  
labUU! $
.UU$ %
ExecuteUU% ,
(UU, -
inputUU- 2
)UU2 3
;UU3 4
returnVV 
ViewVV 
(VV 
)VV 
;VV 
}WW 	
[XX 	
	AuthorizeXX	 
]XX 
publicYY 
IActionResultYY 
UserPageYY %
(YY% &
)YY& '
{ZZ 	
ViewData[[ 
[[[ 
$str[[ 
][[  
=[[! "
User[[# '
.[[' (
Claims[[( .
.[[. /
FirstOrDefault[[/ =
([[= >
obj[[> A
=>[[B D
obj[[E H
.[[H I
Type[[I M
.[[M N
Equals[[N T
([[T U
$str[[U _
)[[_ `
)[[` a
?[[a b
.[[b c
Value[[c h
;[[h i
ViewData\\ 
[\\ 
$str\\ 
]\\  
=\\! "
User\\# '
.\\' (
Claims\\( .
.\\. /
FirstOrDefault\\/ =
(\\= >
obj\\> A
=>\\B D
obj\\E H
.\\H I
Type\\I M
.\\M N
Equals\\N T
(\\T U
$str\\U _
)\\_ `
)\\` a
?\\a b
.\\b c
Value\\c h
;\\h i
ViewData]] 
[]] 
$str]] 
]]] 
=]] 
User]]  $
.]]$ %
Claims]]% +
.]]+ ,
FirstOrDefault]], :
(]]: ;
obj]]; >
=>]]? A
obj]]B E
.]]E F
Type]]F J
.]]J K
Equals]]K Q
(]]Q R
$str]]R a
)]]a b
)]]b c
?]]c d
.]]d e
Value]]e j
;]]j k
ViewData^^ 
[^^ 
$str^^ 
]^^ 
=^^ 
User^^  $
.^^$ %
Claims^^% +
.^^+ ,
FirstOrDefault^^, :
(^^: ;
obj^^; >
=>^^? A
obj^^B E
.^^E F
Type^^F J
.^^J K
Equals^^K Q
(^^Q R
$str^^R Y
)^^Y Z
)^^Z [
?^^[ \
.^^\ ]
Value^^] b
;^^b c
return__ 
View__ 
(__ 
)__ 
;__ 
}`` 	
[bb 	
ResponseCachebb	 
(bb 
Durationbb 
=bb  !
$numbb" #
,bb# $
Locationbb% -
=bb. /!
ResponseCacheLocationbb0 E
.bbE F
NonebbF J
,bbJ K
NoStorebbL S
=bbT U
truebbV Z
)bbZ [
]bb[ \
publiccc 
IActionResultcc 
Errorcc "
(cc" #
)cc# $
{dd 	
returnee 
Viewee 
(ee 
newee 
ErrorViewModelee *
{ee+ ,
	RequestIdee- 6
=ee7 8
Activityee9 A
.eeA B
CurrenteeB I
?eeI J
.eeJ K
IdeeK M
??eeN P
HttpContexteeQ \
.ee\ ]
TraceIdentifieree] l
}eem n
)een o
;eeo p
}ff 	
}gg 
}hh Š8
2E:\Labs\CrossPlatform\Lab6\Lab6\DatabaseHandler.cs
	namespace 	
Lab6
 
{ 
public 

class 
DatabaseHandler  
<  !
T! "
>" #
{ 
private 
readonly 

HttpClient #

httpClient$ .
;. /
private 
string 
host 
= 
$str :
;: ;
public 
DatabaseHandler 
( 

HttpClient )
client* 0
,0 1
Tables2 8
table9 >
)> ?
{ 	

httpClient 
= 
client 
;  
host 
+= 
table 
. 
ToString "
(" #
)# $
.$ %
ToLower% ,
(, -
)- .
+/ 0
$str1 4
;4 5
} 	
public 
async 
Task 
< 
T 
> 
Create #
(# $
T$ %
entity& ,
), -
{ 	
HttpRequestMessage 
message &
=' (
new) ,
HttpRequestMessage- ?
(? @

HttpMethod@ J
.J K
PostK O
,O P
hostQ U
)U V
{ 
Content 
= 
new 
StringContent +
(+ ,
JsonConvert, 7
.7 8
SerializeObject8 G
(G H
entityH N
)N O
,O P
EncodingQ Y
.Y Z
UTF8Z ^
)^ _
} 
; 
message 
. 
Content 
. 
Headers #
.# $
Remove$ *
(* +
$str+ 9
)9 :
;: ;
message 
. 
Content 
. 
Headers #
.# $
Add$ '
(' (
$str( 6
,6 7
$str8 J
)J K
;K L
var   
res   
=   
await   

httpClient   %
.  % &
	SendAsync  & /
(  / 0
message  0 7
)  7 8
;  8 9
return!! 
JsonConvert!! 
.!! 
DeserializeObject!! 0
<!!0 1
T!!1 2
>!!2 3
(!!3 4
await!!4 9
res!!: =
.!!= >
Content!!> E
.!!E F
ReadAsStringAsync!!F W
(!!W X
)!!X Y
)!!Y Z
;!!Z [
}## 	
public%% 
async%% 
Task%% 
<%% 
T%% 
>%% 
Update%% #
(%%# $
T%%$ %
entity%%& ,
)%%, -
{&& 	
HttpRequestMessage'' 
message'' &
=''' (
new'') ,
HttpRequestMessage''- ?
(''? @

HttpMethod''@ J
.''J K
Put''K N
,''N O
host''P T
)''T U
{(( 
Content)) 
=)) 
new)) 
StringContent)) +
())+ ,
JsonConvert)), 7
.))7 8
SerializeObject))8 G
())G H
entity))H N
)))N O
,))O P
Encoding))Q Y
.))Y Z
UTF8))Z ^
)))^ _
}** 
;** 
message++ 
.++ 
Content++ 
.++ 
Headers++ #
.++# $
Remove++$ *
(++* +
$str+++ 9
)++9 :
;++: ;
message,, 
.,, 
Content,, 
.,, 
Headers,, #
.,,# $
Add,,$ '
(,,' (
$str,,( 6
,,,6 7
$str,,8 J
),,J K
;,,K L
var-- 
res-- 
=-- 
await-- 

httpClient-- &
.--& '
	SendAsync--' 0
(--0 1
message--1 8
)--8 9
;--9 :
return.. 
JsonConvert.. 
... 
DeserializeObject.. 0
<..0 1
T..1 2
>..2 3
(..3 4
await..4 9
res..: =
...= >
Content..> E
...E F
ReadAsStringAsync..F W
(..W X
)..X Y
)..Y Z
;..Z [
}00 	
public22 
async22 
Task22 
<22 
bool22 
>22 
Delete22  &
(22& '
object22' -
id22. 0
)220 1
{33 	
HttpRequestMessage44 
message44 &
=44' (
new44) ,
HttpRequestMessage44- ?
(44? @

HttpMethod44@ J
.44J K
Delete44K Q
,44Q R
host44S W
+44X Y
id44Z \
)44\ ]
{55 
}66 
;66 
await77 

httpClient77 
.77 
	SendAsync77 &
(77& '
message77' .
)77. /
;77/ 0
return88 
true88 
;88 
}99 	
public:: 
async:: 
Task:: 
<:: 
T:: 
>:: 
Get::  
(::  !
object::! '
id::( *
)::* +
{;; 	
return<< 
JsonConvert<< 
.<< 
DeserializeObject<< 0
<<<0 1
T<<1 2
><<2 3
(<<3 4
await<<4 9

httpClient<<: D
.<<D E
GetStringAsync<<E S
(<<S T
host<<T X
+<<Y Z
id<<[ ]
)<<] ^
)<<^ _
;<<_ `
}== 	
public>> 
async>> 
Task>> 
<>> 
List>> 
<>> 
T>>  
>>>  !
>>>! "
GetList>># *
(>>* +
)>>+ ,
{?? 	
return@@ 
JsonConvert@@ 
.@@ 
DeserializeObject@@ 0
<@@0 1
List@@1 5
<@@5 6
T@@6 7
>@@7 8
>@@8 9
(@@9 :
await@@: ?

httpClient@@@ J
.@@J K
GetStringAsync@@K Y
(@@Y Z
host@@Z ^
)@@^ _
)@@_ `
;@@` a
}AA 	
}CC 
publicEE 

enumEE 
TablesEE 
{FF 
AssetsGG 
=GG 
$numGG 
,GG !
AssetsLifeCycleEventsHH 
=HH 
$numHH  !
,HH! "
LifeCyclePhasesII 
=II 
$numII 
,II 
	LocationsJJ 
=JJ 
$numJJ 
,JJ 
RefAssetCategoriesKK 
=KK 
$numKK 
,KK 
RefAssetSuperTypesLL 
=LL 
$numLL 
,LL 
RefAssetTypesMM 
=MM 
$numMM 
,MM 
RefSizesNN 
=NN 
$numNN 
,NN 
RefStatusesOO 
=OO 
$numOO 
,OO 
ResponsiblePartiesPP 
=PP 
$numPP 
}SS 
}TT ‰
1E:\Labs\CrossPlatform\Lab6\Lab6\Entities\Asset.cs
	namespace 	
Lab6
 
. 
Entities 
{ 
public 

class 
Asset 
{ 
public 
int 
Asset_ID 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Asset_Type_Code %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
	Size_Code 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 

Asset_Name  
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 
string		 
Other_Details		 #
{		$ %
get		& )
;		) *
set		+ .
;		. /
}		0 1
} 
} ™
DE:\Labs\CrossPlatform\Lab6\Lab6\Entities\Assets_Life_Cycle_Events.cs
	namespace 	
Lab6
 
. 
Entities 
{ 
public 

class $
Assets_Life_Cycle_Events )
{ 
public 
int %
Asset_Life_Cycle_Event_ID ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
int 
Asset_ID 
{ 
get !
;! "
set# &
;& '
}( )
public		 
string		 
Life_Cycle_Code		 %
{		& '
get		( +
;		+ ,
set		- 0
;		0 1
}		2 3
public 
int 
Location_ID 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
Party_ID 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Status_Code !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DateTimeOffset 
	Date_From '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
DateTimeOffset 
Date_To %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} ù
=E:\Labs\CrossPlatform\Lab6\Lab6\Entities\Life_Cycle_Phases.cs
	namespace 	
Lab6
 
. 
Entities 
{ 
public 

class 
Life_Cycle_Phases "
{ 
public 
string 
Life_Cycle_Code %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
Life_Cycle_Name %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string "
Life_Cycle_Description ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
} 
}		 ·
4E:\Labs\CrossPlatform\Lab6\Lab6\Entities\Location.cs
	namespace 	
Lab6
 
. 
Entities 
{ 
public 

class 
Location 
{ 
public 
int 
Location_ID 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Location_Details &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} ›
@E:\Labs\CrossPlatform\Lab6\Lab6\Entities\Ref_Asset_Categories.cs
	namespace 	
Lab6
 
. 
Entities 
{ 
public 

class  
Ref_Asset_Categories %
{ 
public 
string 
Asset_Category_Code )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
string &
Asset_Category_Description 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 
DomesticEnum 
Domestic $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
enum 
DomesticEnum  
{		 	
Domestic

 
=

 
$num

 
} 	
} 
} À
@E:\Labs\CrossPlatform\Lab6\Lab6\Entities\Ref_Asset_Supertypes.cs
	namespace 	
Lab6
 
. 
Entities 
{ 
public 

class  
Ref_Asset_Supertypes %
{ 
public 
string  
Asset_Supertype_Code *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
string 
Asset_Category_Code )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
string '
Asset_Supertype_Description 1
{2 3
get4 7
;7 8
set9 <
;< =
}> ?
public 
CutleryEnum 
Cutlery "
{# $
get% (
;( )
set* -
;- .
}/ 0
public		 
enum		 
CutleryEnum		 
{

 	
Cutlery 
= 
$num 
} 	
} 
} ¥
;E:\Labs\CrossPlatform\Lab6\Lab6\Entities\Ref_Asset_Types.cs
	namespace 	
Lab6
 
. 
Entities 
{ 
public 

class 
Ref_Asset_Types  
{ 
public 
string 
Asset_Type_Code %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string  
Asset_Supertype_Code *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public		 
string		 "
Asset_Type_Description		 ,
{		- .
get		/ 2
;		2 3
set		4 7
;		7 8
}		9 :
public

 
	SpoonEnum

 
Spoon

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
enum 
	SpoonEnum 
{ 	
Spoon 
= 
$num 
} 	
} 
} ã
5E:\Labs\CrossPlatform\Lab6\Lab6\Entities\Ref_Sizes.cs
	namespace 	
Lab6
 
. 
Entities 
{ 
public 

class 
	Ref_Sizes 
{ 
public 
string 
	Size_Code 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Size_Description &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
Sizes 
Size 
{ 
get 
;  
set! $
;$ %
}& '
public 
enum 
Sizes 
{		 	
Small

 
=

 
$num

 
,

 
Medium 
= 
$num 
, 
Large 
= 
$num 
} 	
} 
} À
6E:\Labs\CrossPlatform\Lab6\Lab6\Entities\Ref_Status.cs
	namespace 	
Lab6
 
. 
Entities 
{ 
public 

class 

Ref_Status 
{ 
public 
string 
Status_Code !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Status_Description (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
} 
} Ã
=E:\Labs\CrossPlatform\Lab6\Lab6\Entities\Responsible_Party.cs
	namespace 	
Lab6
 
. 
Entities 
{ 
public 

class 
Responsible_Party "
{ 
public 
int 
Party_ID 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Party_Details #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
}		 ‡
,E:\Labs\CrossPlatform\Lab6\Lab6\Labs\ILab.cs
	namespace 	
Lab6
 
. 
Labs 
{ 
	interface 
ILab 
{ 
public 
string 
Execute 
( 
string $
input% *
)* +
;+ ,
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} Â
,E:\Labs\CrossPlatform\Lab6\Lab6\Labs\Lab1.cs
	namespace 	
Lab6
 
. 
Labs 
{ 
class 	
Lab1
 
: 
ILab 
{ 
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public		 
Lab1		 
(		 
)		 
{

 	
Description 
= 
$str e
+f g
$str q
+r s
$str p
+q r
$str Z
+[ \
$str I
+J K
$str	 ›
;
› œ
} 	
public 
string 
Execute 
( 
string $
input% *
)* +
{ 	
string 
[ 
] 
arr 
= 
input  
.  !
Split! &
(& '
$char' *
)* +
;+ ,
string 
result 
; 
try 
{ 
int 
n 
= 
int 
. 
Parse !
(! "
arr" %
[% &
$num& '
]' (
)( )
;) *
int 
a 
= 
int 
. 
Parse !
(! "
arr" %
[% &
$num& '
]' (
)( )
;) *
int 
b 
= 
int 
. 
Parse !
(! "
arr" %
[% &
$num& '
]' (
)( )
;) *
result 
= 
( 
Solve 
(  
n  !
+" #
$num$ %
,% &
a' (
)( )
** +
Solve, 1
(1 2
n2 3
+4 5
$num6 7
,7 8
b9 :
): ;
); <
.< =
ToString= E
(E F
)F G
;G H
} 
catch 
( 
	Exception 
e 
) 
{ 
return   
e   
.   
Message    
;    !
}!! 
return## 
result## 
;## 
}$$ 	
static&& 
int&& 
Solve&& 
(&& 
int&& 
n&& 
,&& 
int&&  #
m&&$ %
)&&% &
{'' 	
return(( 
	Factorial(( 
((( 
m(( 
+((  
n((! "
-((# $
$num((% &
)((& '
/((( )
	Factorial((* 3
(((3 4
n((4 5
-((6 7
$num((8 9
)((9 :
;((: ;
})) 	
static++ 
int++ 
	Factorial++ 
(++ 
int++  
x++! "
)++" #
{,, 	
if-- 
(-- 
x-- 
==-- 
$num-- 
)-- 
{.. 
return// 
$num// 
;// 
}00 
else11 
{22 
return33 
x33 
*33 
	Factorial33 $
(33$ %
x33% &
-33' (
$num33) *
)33* +
;33+ ,
}44 
}55 	
}66 
}77 ¯$
,E:\Labs\CrossPlatform\Lab6\Lab6\Labs\Lab2.cs
	namespace 	
Lab6
 
. 
Labs 
{ 
public 

class 
Lab2 
: 
ILab 
{ 
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
Lab2 
( 
) 
{ 	
Description		 
=		 
$str	

 ´
+


µ ¶
$str	 Œ
+
 Ž
$str	 £
+
¤ ¥
$str Z
+[ \
$str	 ì
;
ì í
} 	
public 
string 
Execute 
( 
string $
input% *
)* +
{ 	
int 
k 
, 
i 
, 
j 
; 
long 
[ 
, 
] 
a 
= 
new 
long  
[  !
$num! #
,# $
$num% &
]& '
;' (
long 
x 
, 
y 
, 
z 
; 
var 
text 
= 
input 
; 
if 
( 
! 
int 
. 
TryParse 
( 
text "
," #
out$ '
k( )
)) *
)* +
{ 
return 
$str 7
;7 8
} 
if 
( 
k 
>= 
$num 
) 
{ 
return 
$str :
;: ;
} 
a   
[   
$num   
,   
$num   
]   
=   
$num   
;   
while!! 
(!! 
k!! 
>!! 
$num!! 
)!! 
{"" 
k## 
=## 
k## 
-## 
$num## 
;## 
x$$ 
=$$ 
($$ 
a$$ 
[$$ 
$num$$ 
,$$ 
$num$$ 
]$$ 
+$$ 
a$$  
[$$  !
$num$$! "
,$$" #
$num$$$ %
]$$% &
+$$' (
a$$) *
[$$* +
$num$$+ ,
,$$, -
$num$$. /
]$$/ 0
)$$0 1
%$$2 3
$num$$4 ;
;$$; <
y%% 
=%% 
a%% 
[%% 
$num%% 
,%% 
$num%% 
]%% 
;%% 
z&& 
=&& 
a&& 
[&& 
$num&& 
,&& 
$num&& 
]&& 
;&& 
for'' 
('' 
i'' 
='' 
$num'' 
;'' 
i'' 
<'' 
$num''  !
;''! "
i''# $
++''$ &
)''& '
{(( 
for)) 
()) 
j)) 
=)) 
$num)) 
;)) 
j))  !
<))" #
$num))$ %
;))% &
j))' (
++))( *
)))* +
{** 
a++ 
[++ 
i++ 
,++ 
j++ 
]++ 
=++  !
a++" #
[++# $
i++$ %
+++& '
$num++( )
,++) *
j+++ ,
]++, -
;++- .
a,, 
[,, 
$num,, 
,,, 
$num,, 
],, 
=,,  !
x,," #
;,,# $
a-- 
[-- 
$num-- 
,-- 
$num-- 
]-- 
=--  !
y--" #
;--# $
a.. 
[.. 
$num.. 
,.. 
$num.. 
].. 
=..  !
z.." #
;..# $
}// 
}00 
}11 
var22 
resp22 
=22 
(22 
a22 
[22 
k22 
,22 
$num22 
]22 
+22  !
a22" #
[22# $
k22$ %
,22% &
$num22' (
]22( )
+22* +
a22, -
[22- .
k22. /
,22/ 0
$num221 2
]222 3
)223 4
%225 6
$num227 >
;22> ?
return33 
resp33 
.33 
ToString33  
(33  !
)33! "
;33" #
}44 	
}55 
}66 ŠX
,E:\Labs\CrossPlatform\Lab6\Lab6\Labs\Lab3.cs
	namespace 	
Lab6
 
. 
Labs 
{ 
public 

class 
Lab3 
: 
ILab 
{ 
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public

 
Lab3

 
(

 
)

 
{ 	
Description 
= 
$str	 º
+
» ¼
$str	 ¾
;
¾ ¿
} 	
public 
string 
Execute 
( 
string $
input% *
)* +
{ 	
var 
lines 
= 
input 
. 
Split #
(# $
$str$ *
)* +
.+ ,
ToList, 2
(2 3
)3 4
;4 5
if 
( 
lines 
. 
Count 
< 
$num 
)  
{ 
return 
$str ,
;, -
} 
var 
sizeArr 
= 
lines 
[  
$num  !
]! "
." #
Split# (
(( )
$char) ,
), -
;- .
if 
( 
sizeArr 
. 
Length 
<  
$num! "
)" #
{ 
return 
$str 0
;0 1
} 
int 
h 
; 
int 
w 
; 
if 
( 
! 
int 
. 
TryParse 
( 
sizeArr %
[% &
$num& '
]' (
,( )
out* -
h. /
)/ 0
)0 1
{   
return!! 
$str!! ,
;!!, -
}"" 
if## 
(## 
!## 
int## 
.## 
TryParse## 
(## 
sizeArr## %
[##% &
$num##& '
]##' (
,##( )
out##* -
w##. /
)##/ 0
)##0 1
{$$ 
return%% 
$str%% +
;%%+ ,
}&& 
var'' 
battlefield'' 
='' 
new'' !
BattleField''" -
(''- .
h''. /
,''/ 0
w''1 2
)''2 3
;''3 4
lines(( 
.(( 
RemoveAt(( 
((( 
$num(( 
)(( 
;(( 
battlefield)) 
.)) 
Fill)) 
()) 
lines)) "
)))" #
;))# $
battlefield** 
.** 
	FindShips** !
(**! "
)**" #
;**# $
return++ 
battlefield++ 
.++ 
Count++ $
(++$ %
)++% &
;++& '
}-- 	
class.. 
BattleField.. 
{// 	
private00 
List00 
<00 
Ship00 
>00 
ships00 $
;00$ %
private11 
char11 
[11 
,11 
]11 
field11 !
;11! "
private22 
int22 
h22 
;22 
private33 
int33 
w33 
;33 
public55 
BattleField55 
(55 
int55 "
h55# $
,55$ %
int55& )
w55* +
)55+ ,
{66 
this77 
.77 
h77 
=77 
h77 
;77 
this88 
.88 
w88 
=88 
w88 
;88 
ships99 
=99 
new99 
List99  
<99  !
Ship99! %
>99% &
(99& '
)99' (
;99( )
field:: 
=:: 
new:: 
char::  
[::  !
h::! "
,::" #
w::$ %
]::% &
;::& '
};; 
public== 
string== 
Count== 
(==  
)==  !
{>> 
var?? 
good?? 
=?? 
ships??  
.??  !
FindAll??! (
(??( )
obj??) ,
=>??- /
obj??0 3
.??3 4
points??4 :
.??: ;
Contains??; C
(??C D
$char??D G
)??G H
&&??I K
!??L M
obj??M P
.??P Q
points??Q W
.??W X
Contains??X `
(??` a
$char??a d
)??d e
)??e f
.??f g
Count??g l
;??l m
var@@ 
killed@@ 
=@@ 
ships@@ "
.@@" #
FindAll@@# *
(@@* +
obj@@+ .
=>@@/ 1
!@@2 3
obj@@3 6
.@@6 7
points@@7 =
.@@= >
Contains@@> F
(@@F G
$char@@G J
)@@J K
&&@@L N
obj@@O R
.@@R S
points@@S Y
.@@Y Z
Contains@@Z b
(@@b c
$char@@c f
)@@f g
)@@g h
.@@h i
Count@@i n
;@@n o
varAA 
damagedAA 
=AA 
shipsAA #
.AA# $
FindAllAA$ +
(AA+ ,
objAA, /
=>AA0 2
objAA3 6
.AA6 7
pointsAA7 =
.AA= >
ContainsAA> F
(AAF G
$charAAG J
)AAJ K
&&AAL N
objAAO R
.AAR S
pointsAAS Y
.AAY Z
ContainsAAZ b
(AAb c
$charAAc f
)AAf g
)AAg h
.AAh i
CountAAi n
;AAn o
returnBB 
$"BB 
{BB 
goodBB 
}BB  
{BB! "
damagedBB" )
}BB) *
{BB+ ,
killedBB, 2
}BB2 3
"BB3 4
;BB4 5
}CC 
publicDD 
boolDD 
FillDD 
(DD 
ListDD !
<DD! "
stringDD" (
>DD( )
linesDD* /
)DD/ 0
{EE 
forFF 
(FF 
intFF 
iFF 
=FF 
$numFF 
;FF 
iFF  !
<FF" #
hFF$ %
;FF% &
iFF' (
++FF( *
)FF* +
{GG 
varHH 
charsHH 
=HH 
linesHH  %
[HH% &
iHH& '
]HH' (
.HH( )
ToCharArrayHH) 4
(HH4 5
)HH5 6
;HH6 7
ifII 
(II 
charsII 
.II 
LengthII $
<II% &
wII' (
)II( )
{JJ 
returnKK 
falseKK $
;KK$ %
}LL 
forMM 
(MM 
intMM 
jMM 
=MM  
$numMM! "
;MM" #
jMM$ %
<MM& '
wMM( )
;MM) *
jMM+ ,
++MM, .
)MM. /
{NN 
fieldOO 
[OO 
iOO 
,OO  
jOO! "
]OO" #
=OO$ %
charsOO& +
[OO+ ,
jOO, -
]OO- .
;OO. /
}PP 
}QQ 
returnSS 
trueSS 
;SS 
}TT 
publicVV 
voidVV 
	FindShipsVV !
(VV! "
)VV" #
{WW 
intXX 

shipsCountXX 
=XX  
$numXX! "
;XX" #
forYY 
(YY 
intYY 
iYY 
=YY 
$numYY 
;YY 
iYY  !
<YY" #
hYY$ %
;YY% &
iYY' (
++YY( *
)YY* +
{ZZ 
for[[ 
([[ 
int[[ 
j[[ 
=[[  
$num[[! "
;[[" #
j[[$ %
<[[& '
w[[( )
;[[) *
j[[+ ,
++[[, .
)[[. /
{\\ 
if]] 
(]] 
field]] !
[]]! "
i]]" #
,]]# $
j]]% &
]]]& '
!=]]( *
$char]]+ .
)]]. /
{^^ 
Ship__  
ship__! %
=__& '
new__( +
Ship__, 0
(__0 1
)__1 2
;__2 3

shipsCount`` &
++``& (
;``( )
Recaa 
(aa  
iaa  !
,aa! "
jaa# $
,aa$ %
refaa& )
shipaa* .
)aa. /
;aa/ 0
shipsbb !
.bb! "
Addbb" %
(bb% &
shipbb& *
)bb* +
;bb+ ,
}cc 
}dd 
}ee 
}gg 
privateii 
voidii 
Recii 
(ii 
intii  
iii! "
,ii" #
intii$ '
jii( )
,ii) *
refii+ .
Shipii/ 3
shipii4 8
)ii8 9
{jj 
ifkk 
(kk 
ikk 
<kk 
$numkk 
||kk 
ikk 
>=kk !
hkk" #
||kk$ &
jkk' (
<kk) *
$numkk+ ,
||kk- /
jkk0 1
>=kk2 4
wkk5 6
||kk7 9
fieldkk: ?
[kk? @
ikk@ A
,kkA B
jkkC D
]kkD E
==kkF H
$charkkI L
)kkL M
{ll 
returnmm 
;mm 
}nn 
shipoo 
.oo 
pointsoo 
.oo 
Addoo 
(oo  
fieldoo  %
[oo% &
ioo& '
,oo' (
joo) *
]oo* +
)oo+ ,
;oo, -
fieldpp 
[pp 
ipp 
,pp 
jpp 
]pp 
=pp 
$charpp !
;pp! "
Recqq 
(qq 
iqq 
+qq 
$numqq 
,qq 
jqq 
,qq 
refqq !
shipqq" &
)qq& '
;qq' (
Recrr 
(rr 
irr 
-rr 
$numrr 
,rr 
jrr 
,rr 
refrr !
shiprr" &
)rr& '
;rr' (
Recss 
(ss 
iss 
,ss 
jss 
+ss 
$numss 
,ss 
refss !
shipss" &
)ss& '
;ss' (
Rectt 
(tt 
itt 
,tt 
jtt 
-tt 
$numtt 
,tt 
reftt !
shiptt" &
)tt& '
;tt' (
}uu 
}ww 	
classzz 
Shipzz 
{{{ 	
public|| 
List|| 
<|| 
char|| 
>|| 
points|| $
;||$ %
public~~ 
Ship~~ 
(~~ 
)~~ 
{ 
this
€€ 
.
€€ 
points
€€ 
=
€€ 
new
€€ !
List
€€" &
<
€€& '
char
€€' +
>
€€+ ,
(
€€, -
)
€€- .
;
€€. /
}
 
}
‚‚ 	
}
ƒƒ 
}…… þ
8E:\Labs\CrossPlatform\Lab6\Lab6\Models\ErrorViewModel.cs
	namespace 	
Lab6
 
. 
Models 
{ 
public 

class 
ErrorViewModel 
{ 
public 
string 
	RequestId 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
bool		 
ShowRequestId		 !
=>		" $
!		% &
string		& ,
.		, -
IsNullOrEmpty		- :
(		: ;
	RequestId		; D
)		D E
;		E F
}

 
} ü	
*E:\Labs\CrossPlatform\Lab6\Lab6\Program.cs
	namespace

 	
Lab6


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} ˆ
*E:\Labs\CrossPlatform\Lab6\Lab6\Startup.cs
	namespace 	
Lab6
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddHttpClient "
(" #
)# $
;$ %
services 
. 
AddAuthentication &
(& '
config' -
=>. 0
{ 
config 
. 
DefaultScheme ,
=- .(
CookieAuthenticationDefaults/ K
.K L 
AuthenticationSchemeL `
;` a
config 
. "
DefaultChallengeScheme 5
=6 7
$str8 >
;> ?
}   
)   
.!! 
	AddCookie!! 
(!! (
CookieAuthenticationDefaults!! 7
.!!7 8 
AuthenticationScheme!!8 L
)!!L M
."" 
AddOpenIdConnect"" !
(""! "
$str""" (
,""( )
config""* 0
=>""1 3
{## 
config$$ 
.$$ 
ClientId$$ #
=$$$ %
$str$$& 5
;$$5 6
config%% 
.%% 
ClientSecret%% '
=%%( )
$str%%* =
;%%= >
config&& 
.&& 

SaveTokens&& %
=&&& '
true&&( ,
;&&, -
config'' 
.'' 
	Authority'' $
=''% &
$str''' >
;''> ?
config(( 
.(( 
ResponseType(( '
=((( )
$str((* 0
;((0 1
config)) 
.))  
RequireHttpsMetadata)) /
=))0 1
false))2 7
;))7 8
}** 
)** 
;** 
services++ 
.++ #
AddControllersWithViews++ ,
(++, -
)++- .
;++. /
},, 	
public// 
void// 
	Configure// 
(// 
IApplicationBuilder// 1
app//2 5
,//5 6
IWebHostEnvironment//7 J
env//K N
)//N O
{00 	
if11 
(11 
env11 
.11 
IsDevelopment11 !
(11! "
)11" #
)11# $
{22 
app33 
.33 %
UseDeveloperExceptionPage33 -
(33- .
)33. /
;33/ 0
}44 
else55 
{66 
app77 
.77 
UseExceptionHandler77 '
(77' (
$str77( 5
)775 6
;776 7
}88 
app99 
.99 
UseStaticFiles99 
(99 
)99  
;99  !
app;; 
.;; 

UseRouting;; 
(;; 
);; 
;;; 
app== 
.== 
UseAuthentication== !
(==! "
)==" #
;==# $
app?? 
.?? 
UseAuthorization??  
(??  !
)??! "
;??" #
appAA 
.AA 
UseEndpointsAA 
(AA 
	endpointsAA &
=>AA' )
{BB 
	endpointsCC 
.CC 
MapControllerRouteCC ,
(CC, -
nameDD 
:DD 
$strDD #
,DD# $
patternEE 
:EE 
$strEE E
)EEE F
;EEF G
}FF 
)FF 
;FF 
}GG 	
}HH 
}II 